package book.kmh.ex;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

import book.kmh.conn.DBConnection;

public class Ex1 {

	public void result() {
		private void selectTable() {
			System.out.println("===== employess DB 테이블 확인=======");
			// DB연결
			String sql = "SELECT *\r\n"
					+ "FROM book\r\n"
					+ "WHERE PubYear >= '2020-01-01'\r\n"
					+ "ORDER BY PubYear ; ";
			Connection conn = null;
			PreparedStatement pstmt = null;
			ResultSet rs = null;

			try {
				conn = DBConnection.getConnection();
				pstmt = conn.prepareStatement(sql);
				rs = pstmt.executeQuery();

				if (!rs.next()) {
					System.out.println("users 테이블에 조회된 결과가 없음");
				} else {
					int rowCount = 0;
					do {
						rowCount++;
						String id = rs.getString("id");
						String name = rs.getString("name");
						System.out.println("ID:" +  id + " NAME:" + name);
					} while (rs.next());
					System.out.println("----------" + rowCount + "-------------");
				}

			} catch (SQLException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			} finally {
				DBConnection.close(rs, pstmt, conn);
			}
		
	
		}
	}

